<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "hconcat": [{"layer": [{"data": {"url": "https://raw.githubusercontent.com/abolon/misc/main/map_base.geojson", "format": {"property": "features", "type": "json"}}, "mark": {"type": "geoshape", "fill": "#d9d9d9", "stroke": "white"}, "encoding": {"tooltip": {"field": "properties.Name", "type": "nominal"}}, "projection": {"reflectY": true, "type": "identity"}}, {"data": {"name": "data-557be2c44efba44976719cb9563085bf"}, "mark": "circle", "encoding": {"color": {"field": "Location Type", "legend": null, "scale": {"domain": ["Cafe", "Public Transportation", "Public Park", "Restaurant", "Community Garden", "Outdoor Activity", "Art Gallery", "Shop", "School", "Residence", "Community (Commercial Center)", "Public Structure", "Chester Square Park"], "range": ["#fdbf6f", "#ff7f00", "#b2df8a", "#6a3d9a", "#33a02c", "#a6cee3", "#b15928", "#fb9a99", "#1f78b4", "#ffff99", "#e31a1c", "#cab2d6", "#78c679"]}, "type": "nominal"}, "latitude": {"field": "Latitude", "type": "quantitative"}, "longitude": {"field": "Longitude", "type": "quantitative"}, "opacity": {"condition": {"value": 1, "selection": "selector007"}, "value": 0}, "size": {"aggregate": "count", "field": "Location Name", "legend": null, "scale": {"range": [20, 100]}, "type": "quantitative"}, "tooltip": [{"field": "Location Name", "type": "nominal"}, {"field": "Location Type", "type": "nominal"}, {"aggregate": "count", "field": "Location Name", "type": "nominal"}]}, "height": 400, "width": 500}, {"data": {"name": "data-11e8585c53cc3ab8a0b448390964d568"}, "mark": "point", "encoding": {"color": {"field": "Location Name", "legend": {"title": ""}, "scale": {"domain": ["Chester Square Park"], "range": ["#78c679"]}, "type": "nominal"}, "latitude": {"field": "Latitude", "type": "quantitative"}, "longitude": {"field": "Longitude", "type": "quantitative"}, "size": {"value": 200}, "tooltip": {"field": "Location Name", "type": "nominal"}}}]}, {"vconcat": [{"mark": "square", "encoding": {"color": {"field": "Location Type", "legend": null, "scale": {"domain": ["Cafe", "Public Transportation", "Public Park", "Restaurant", "Community Garden", "Outdoor Activity", "Art Gallery", "Shop", "School", "Residence", "Community (Commercial Center)", "Public Structure", "Chester Square Park"], "range": ["#fdbf6f", "#ff7f00", "#b2df8a", "#6a3d9a", "#33a02c", "#a6cee3", "#b15928", "#fb9a99", "#1f78b4", "#ffff99", "#e31a1c", "#cab2d6", "#78c679"]}, "type": "nominal"}, "size": {"value": 100}, "y": {"field": "Location Type", "type": "ordinal"}}, "selection": {"selector007": {"type": "multi", "fields": ["Location Type"]}}, "title": "Select to filter", "width": 20}, {"mark": {"type": "arc", "innerRadius": 50}, "encoding": {"color": {"field": "Location Type", "legend": {"title": "Location type by color"}, "scale": {"domain": ["Cafe", "Public Transportation", "Public Park", "Restaurant", "Community Garden", "Outdoor Activity", "Art Gallery", "Shop", "School", "Residence", "Community (Commercial Center)", "Public Structure", "Chester Square Park"], "range": ["#fdbf6f", "#ff7f00", "#b2df8a", "#6a3d9a", "#33a02c", "#a6cee3", "#b15928", "#fb9a99", "#1f78b4", "#ffff99", "#e31a1c", "#cab2d6", "#78c679"]}, "type": "nominal"}, "theta": {"aggregate": "count", "field": "Location Type", "type": "quantitative"}, "tooltip": [{"field": "Location Name", "type": "nominal"}, {"aggregate": "count", "field": "Location Name", "title": "Total responses by location", "type": "quantitative"}]}, "height": 150, "title": "Donut Chart of Locations", "transform": [{"filter": {"selection": "selector007"}}]}], "data": {"name": "data-557be2c44efba44976719cb9563085bf"}}, {"data": {"name": "data-557be2c44efba44976719cb9563085bf"}, "mark": "bar", "encoding": {"color": {"condition": {"field": "Location Type", "legend": null, "scale": {"domain": ["Cafe", "Public Transportation", "Public Park", "Restaurant", "Community Garden", "Outdoor Activity", "Art Gallery", "Shop", "School", "Residence", "Community (Commercial Center)", "Public Structure", "Chester Square Park"], "range": ["#fdbf6f", "#ff7f00", "#b2df8a", "#6a3d9a", "#33a02c", "#a6cee3", "#b15928", "#fb9a99", "#1f78b4", "#ffff99", "#e31a1c", "#cab2d6", "#78c679"]}, "type": "ordinal", "selection": "selector007"}, "value": "lightgray"}, "size": {"value": 10}, "tooltip": [{"field": "Location Type", "type": "nominal"}, {"aggregate": "count", "field": "Location Type", "type": "nominal"}], "x": {"aggregate": "count", "field": "Location Type", "type": "quantitative"}, "y": {"field": "Location Type", "sort": "-x", "type": "ordinal"}}, "height": 150, "selection": {"selector007": {"type": "multi", "fields": ["Location Type"]}}, "title": "Number of Responses by Location Type"}], "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-557be2c44efba44976719cb9563085bf": [{"Location Name": "Greystone Cafe, Bakery, and Provisions", "Location Type": "Cafe", "Latitude": 42.3454725206913, "Longitude": -71.0740520009153}, {"Location Name": "Franklin Park", "Location Type": "Public Park", "Latitude": 42.3389975217771, "Longitude": -71.0724909892565}, {"Location Name": "Blackstone Square", "Location Type": "Public Park", "Latitude": 42.3395985386303, "Longitude": -71.0732906473084}, {"Location Name": "O'Day Playground", "Location Type": "Public Park", "Latitude": 42.3408725839454, "Longitude": -71.0746118990639}, {"Location Name": "O'Day Playground", "Location Type": "Public Park", "Latitude": 42.3408725839454, "Longitude": -71.0746118990639}, {"Location Name": "O'Day Playground", "Location Type": "Public Park", "Latitude": 42.3408725839454, "Longitude": -71.0746118990639}, {"Location Name": "Anchovies", "Location Type": "Restaurant", "Latitude": 42.3442002142069, "Longitude": -71.0772101874231}, {"Location Name": "Titus Sparrow Park", "Location Type": "Community Garden", "Latitude": 42.343567229122, "Longitude": -71.0797407241349}, {"Location Name": "Titus Sparrow Park", "Location Type": "Public Park", "Latitude": 42.3435749266073, "Longitude": -71.0798004310711}, {"Location Name": "Titus Sparrow Park", "Location Type": "Public Park", "Latitude": 42.3435749266073, "Longitude": -71.0798004310711}, {"Location Name": "Titus Sparrow Park", "Location Type": "Public Park", "Latitude": 42.3435977250278, "Longitude": -71.0801866691645}, {"Location Name": "Southwest Corridor Community Gardens", "Location Type": "Community Garden", "Latitude": 42.343346293543, "Longitude": -71.0810818822141}, {"Location Name": "Southwest Corridor", "Location Type": "Public Park", "Latitude": 42.3426120995289, "Longitude": -71.08200505381}, {"Location Name": "Southwest Corridor", "Location Type": "Public Park", "Latitude": 42.3426120995289, "Longitude": -71.08200505381}, {"Location Name": "Wellington Community Park", "Location Type": "Public Park", "Latitude": 42.3420175482518, "Longitude": -71.0827503200354}, {"Location Name": "Petit Robert Bistro", "Location Type": "Restaurant", "Latitude": 42.3429050387152, "Longitude": -71.0782273451975}, {"Location Name": "Cafe Madeleine", "Location Type": "Cafe", "Latitude": 42.342401950621, "Longitude": -71.0794354297513}, {"Location Name": "Render Coffee", "Location Type": "Cafe", "Latitude": 42.3419682506499, "Longitude": -71.0795420410619}, {"Location Name": "Wellington Green", "Location Type": "Public Park", "Latitude": 42.341153960024, "Longitude": -71.0813041923819}, {"Location Name": "Wally's Cafe Jazz Club", "Location Type": "Restaurant", "Latitude": 42.3408305160791, "Longitude": -71.0818064944481}, {"Location Name": "Wally's Cafe Jazz Club", "Location Type": "Restaurant", "Latitude": 42.3408305160791, "Longitude": -71.0818064944481}, {"Location Name": "Farmers Horse Coffee", "Location Type": "Cafe", "Latitude": 42.3422010911795, "Longitude": -71.0827087278997}, {"Location Name": "El Jefe's Taqueria", "Location Type": "Restaurant", "Latitude": 42.3421402622555, "Longitude": -71.0859639943172}, {"Location Name": "Reflecting Pool at the Christian Science Center", "Location Type": "Public Park", "Latitude": 42.3445059471571, "Longitude": -71.0832051278997}, {"Location Name": "Charles River", "Location Type": "Public Park", "Latitude": 42.3556603666979, "Longitude": -71.0790059462407}, {"Location Name": "Charles River", "Location Type": "Public Park", "Latitude": 42.3556603666979, "Longitude": -71.0790059462407}, {"Location Name": "Multiple Locations", "Location Type": "Outdoor Activity", "Latitude": 42.3422356368797, "Longitude": -71.0824690568203}, {"Location Name": "Multiple Locations", "Location Type": "Outdoor Activity", "Latitude": 42.3379204614, "Longitude": -71.0749950824428}, {"Location Name": "Carter Playground/Field", "Location Type": "Public Park", "Latitude": 42.3388082741248, "Longitude": -71.0850197808282}, {"Location Name": "Flour Bakery + Cafe", "Location Type": "Cafe", "Latitude": 42.338677903177, "Longitude": -71.07405191624}, {"Location Name": "Worcester Street Community Garden", "Location Type": "Community Garden", "Latitude": 42.3405884360039, "Longitude": -71.07958094948}, {"Location Name": "Fountain at Concord Square", "Location Type": "Public Structure", "Latitude": 42.3412378882756, "Longitude": -71.0787589871117}, {"Location Name": "Ilona", "Location Type": "Restaurant", "Latitude": 42.3393287102581, "Longitude": -71.0807872550162}, {"Location Name": "Jaho Coffee Roaster and Wine Bar", "Location Type": "Cafe", "Latitude": 42.3380165712835, "Longitude": -71.0757654206834}, {"Location Name": "West Springfield Garden", "Location Type": "Community Garden", "Latitude": 42.338092187018, "Longitude": -71.0778931884247}, {"Location Name": "Olympia Flower Store", "Location Type": "Shop", "Latitude": 42.336968180953, "Longitude": -71.0761865996367}, {"Location Name": "Orinoco: A Latin Kitchen", "Location Type": "Restaurant", "Latitude": 42.3393376761254, "Longitude": -71.0750793764136}, {"Location Name": "Chester Square Park", "Location Type": "Public Park", "Latitude": 42.3383895205411, "Longitude": -71.078995525101}, {"Location Name": "Chester Square Park", "Location Type": "Public Park", "Latitude": 42.3383895205411, "Longitude": -71.078995525101}, {"Location Name": "Mass Ave T Stop", "Location Type": "Public Transportation", "Latitude": 42.34149268705, "Longitude": -71.0834265486816}, {"Location Name": "Multiple Locations", "Location Type": "Outdoor Activity", "Latitude": 42.3381857233226, "Longitude": -71.0821693483099}, {"Location Name": "Darryl's Corner Bar and Kitchen", "Location Type": "Restaurant", "Latitude": 42.3396819160663, "Longitude": -71.0824335114962}, {"Location Name": "Piano Craft Gallery", "Location Type": "Art Gallery", "Latitude": 42.3387478041153, "Longitude": -71.0819191472158}, {"Location Name": "Jugos Supremo", "Location Type": "Shop", "Latitude": 42.3392508929347, "Longitude": -71.080084516261}, {"Location Name": "MIDA", "Location Type": "Restaurant", "Latitude": 42.3390779101415, "Longitude": -71.0801810757928}, {"Location Name": "Hurley K-8", "Location Type": "School", "Latitude": 42.3391245179702, "Longitude": -71.0779129003702}, {"Location Name": "Tropical Foods", "Location Type": "Shop", "Latitude": 42.3331632278926, "Longitude": -71.0820624670178}, {"Location Name": "Tropical Foods", "Location Type": "Shop", "Latitude": 42.3331632278926, "Longitude": -71.0820624670178}, {"Location Name": "Nubian Sq", "Location Type": "Community (Commercial Center)", "Latitude": 42.3299480311229, "Longitude": -71.0850112233397}, {"Location Name": "Toro", "Location Type": "Restaurant", "Latitude": 42.33710349988, "Longitude": -71.0757788870716}, {"Location Name": "Worcester Square", "Location Type": "Residence", "Latitude": 42.3365255439071, "Longitude": -71.0753869603877}, {"Location Name": "Ramsay Park", "Location Type": "Public Park", "Latitude": 42.3344649732359, "Longitude": -71.0806714904049}], "data-11e8585c53cc3ab8a0b448390964d568": [{"Location Name": "Chester Square Park", "Location Type": "Public Park", "Latitude": 42.3383895205411, "Longitude": -71.078995525101}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>